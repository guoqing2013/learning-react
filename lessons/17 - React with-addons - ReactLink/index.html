<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>react-with-addons ReactLink</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react-with-addons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.1/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0-alpha1/JSXTransformer.js"></script>
</head>
<body>
<div id="app"></div>


<script type="text/jsx">
    /** @jsx React.DOM */
//var App = React.createClass({
//    getInitialState: function(){
//        return {
//            name: '',
//            email: ''
//        }
//    },
//    update: function(){
//        this.setState({
//            name: this.refs.name.getDOMNode().value,
//            email: this.refs.email.getDOMNode().value
//        })
//    },
//    render: function(){
//        return (
//            <form>
//                <div>
//                    <input ref="name" onChange={this.update} type="text" placeholder="Name" />
//                    <label>*{this.state.name}*</lable>
//                </div>
//                <div>
//                    <input ref="email" onChange={this.update} type="text" placeholder="Email" />
//                    <label>*{this.state.email}*</lable>
//                </div>
//
//
//            </form>
//        )
//    }
//});


    var APP =
            React.createClass({
                mixins: [React.addons.LinkedStateMixin],
                getInitialState: function () {
                    return {
                        name: '',
                        email: '',
                        phone: ''
                    };
                },
                render: function () {
                    return (
                    <form>
                        <div>
                            <input valueLink={this.linkState('name')} type="text" placeholder="Name" />
                            <label>*{this.state.name}*</label>
                            </div>
                            <div>
                            <input valueLink={this.linkState('email')} type="text" placeholder="Email" />
                            <label>*{this.state.email}*</label>
                            </div>
                            <div>
                            <input valueLink={this.linkState('phone')} type="text" placeholder="Phone" />
                            <label>*{this.state.phone}*</label>
                        </div>
                    </form>
                    )
                }
            });
    /*React.render will be depricated in the next release
     https://facebook.github.io/react/blog/2015/10/07/react-v0.14.html#breaking-changes*/
    ReactDOM.render(React.createElement(APP), document.getElementById('app'));


</script>
</body>
</html>